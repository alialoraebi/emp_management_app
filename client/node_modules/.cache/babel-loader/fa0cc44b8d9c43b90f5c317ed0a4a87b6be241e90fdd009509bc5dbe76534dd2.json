{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUp(){const[formData,setFormData]=useState({username:'',email:'',password:''});const[errorMessage,setErrorMessage]=useState('');const[signUpSuccess,setSignUpSuccess]=useState(false);const navigate=useNavigate();const handleChange=e=>{const updatedFormData={...formData,[e.target.name]:e.target.value};console.log(updatedFormData);setFormData(updatedFormData);};const handleSubmit=async e=>{e.preventDefault();if(!formData.username||!formData.email||!formData.password){setErrorMessage('Please fill in all fields.');}else{try{const response=await axios.post('http://localhost:3000/api/v1/user/signup',formData);console.log(response.data);setErrorMessage('');setSignUpSuccess(true);navigate('/login');}catch(error){console.error(\"Error during sign up:\",error);if(error.response&&error.response.data){console.log('Error message:',error.response.data.message);setErrorMessage(error.response.data.message);}else{setErrorMessage('An error occurred. Please try again later.');}}}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"signup-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,placeholder:\"Username\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Email\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"Password\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Sign Up\"}),errorMessage&&/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[errorMessage,errorMessage.includes('Username already exists')&&/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"login-link\",children:\"Login here\"}),\".\"]})]})]});}export default SignUp;","map":{"version":3,"names":["React","useState","axios","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","SignUp","formData","setFormData","username","email","password","errorMessage","setErrorMessage","signUpSuccess","setSignUpSuccess","navigate","handleChange","e","updatedFormData","target","name","value","console","log","handleSubmit","preventDefault","response","post","data","error","message","onSubmit","className","children","type","onChange","placeholder","includes","to"],"sources":["/Users/ali/Desktop/George Brown/Fall 2023/COMP3123 (Full Stack Development)/assignment2/client/src/components/SignUp.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom'; \n\n\nfunction SignUp() {\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const [signUpSuccess, setSignUpSuccess] = useState(false); \n  \n  const navigate = useNavigate();\n\n  \n  const handleChange = (e) => {\n    const updatedFormData = { ...formData, [e.target.name]: e.target.value };\n    console.log(updatedFormData);\n    setFormData(updatedFormData);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.username || !formData.email || !formData.password) {\n      setErrorMessage('Please fill in all fields.');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:3000/api/v1/user/signup', formData);\n        console.log(response.data);\n        setErrorMessage(''); \n        setSignUpSuccess(true); \n        navigate('/login'); \n      } catch (error) {\n        console.error(\"Error during sign up:\", error);\n        if (error.response && error.response.data) {\n          console.log('Error message:', error.response.data.message); \n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('An error occurred. Please try again later.');\n        }\n      }\n    }\n  }\n\n  \n  return (\n    <form onSubmit={handleSubmit} className=\"signup-form\">\n      <input\n        type=\"text\"\n        name=\"username\"\n        value={formData.username}\n        onChange={handleChange}\n        placeholder=\"Username\"\n        className=\"form-input\"\n      />\n      <input\n        type=\"email\"\n        name=\"email\"\n        value={formData.email}\n        onChange={handleChange}\n        placeholder=\"Email\"\n        className=\"form-input\"\n      />\n      <input\n        type=\"password\"\n        name=\"password\"\n        value={formData.password}\n        onChange={handleChange}\n        placeholder=\"Password\"\n        className=\"form-input\"\n      />\n      <button type=\"submit\" className=\"submit-button\">Sign Up</button>\n  \n      {errorMessage && (\n        <p className=\"error-message\">\n          {errorMessage}\n          {errorMessage.includes('Username already exists') && (\n            <span> <Link to=\"/login\" className=\"login-link\">Login here</Link>.</span>\n          )}\n        </p>\n      )}\n    </form>\n  );\n}\n\nexport default SignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}